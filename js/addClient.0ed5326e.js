!function(){"use strict";var e={4955:function(e,t,n){var r=n(5096),o=new(n.n(r)())({allErrors:!0}).compile({$schema:"http://json-schema.org/draft-07/schema#",title:"Client",description:"Schema for client entity",type:"object",properties:{name:{type:"string"},email:{type:"string",format:"email"},phone:{type:"string",minLength:10},password:{type:"string",minLength:8}},additionalProperties:!1,required:["name","email","phone","password"]}),i=n(8901),a=n.n(i);function c(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}n(1539),n(8674),n(5666);var u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://lab.lectrum.io/js2/api/crm","/clients"),{method:"POST",headers:{"Content-Type":"application/json","x-token":localStorage.getItem("token")},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.sent,e.abrupt("return",n.status);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){c(i,r,o,a,u,"next",e)}function u(e){c(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),s=document.getElementById("formClient");document.getElementById("creator").value=localStorage.getItem("email"),s&&(s.onsubmit=function(e){e.preventDefault();var t=document.getElementById("clientName").value,n=document.getElementById("clientMail").value,r=document.getElementById("clientTel").value,i=document.getElementById("clientSurname").value;if(!o({name:t,email:n,phone:r,password:i+=t})){var c="Форма заполнена не верно, пожалуйста введите правильно поля. Почта должны быть корректной. Телефон должен содержать минимум 10 символов";throw a().error(c,"Ошибка!"),new Error(c)}u({name:t,email:n,phone:r,password:i}).then((function(e){e>=200&&e<300&&(document.location="clients.html")}))}),s&&s.addEventListener("click",(function(e){e.target.classList.contains("outline__btn")&&(document.location="clients.html")}))}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.x=function(){},n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={645:0},t=[[4955,29,855,714]],r=function(){},o=function(o,i){for(var a,c,u=i[0],s=i[1],l=i[2],f=i[3],p=0,m=[];p<u.length;p++)c=u[p],n.o(e,c)&&e[c]&&m.push(e[c][0]),e[c]=0;for(a in s)n.o(s,a)&&(n.m[a]=s[a]);for(l&&l(n),o&&o(i);m.length;)m.shift()();return f&&t.push.apply(t,f),r()},i=self.webpackChunkjs_personal_projects=self.webpackChunkjs_personal_projects||[];function a(){for(var r,o=0;o<t.length;o++){for(var i=t[o],a=!0,c=1;c<i.length;c++){var u=i[c];0!==e[u]&&(a=!1)}a&&(t.splice(o--,1),r=n(n.s=i[0]))}return 0===t.length&&(n.x(),n.x=function(){}),r}i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i));var c=n.x;n.x=function(){return n.x=c||function(){},(r=a)()}}(),n.x()}();