!function(){var t={1822:function(t,e,n){"use strict";n(5666),n(8309),n(3371),n(1539),n(8674),n(9714);var r,o,a,i=n(8901),u=n.n(i),c="https://lab.lectrum.io/js2/api/crm",s=n(5096),f=new(n.n(s)())({allErrors:!0}).compile({$schema:"http://json-schema.org/draft-07/schema#",title:"Login",description:"Schema for sign up entity",type:"object",properties:{name:{type:"string"},email:{type:"string",format:"email"},phone:{type:"string"},password:{type:"string",minLength:8}},additionalProperties:!1,required:["name","email","phone","password"]});function l(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function p(){return function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(c,"/auth"),{method:"GET",headers:{"x-token":localStorage.getItem("token")}});case 2:if(!((e=t.sent).status>=200&&e.status<300)){t.next=5;break}return t.abrupt("return",e.status);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){l(a,r,o,i,u,"next",t)}function u(t){l(a,r,o,i,u,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}()()}function h(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){h(a,r,o,i,u,"next",t)}function u(t){h(a,r,o,i,u,"throw",t)}i(void 0)}))}}function d(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}Object.freeze({profile:{get:(a=m(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:return e=t.sent,t.next=5,fetch("".concat(c,"/profile"),{method:"GET",headers:{"x-token":localStorage.getItem("token")}});case 5:if(!((e=t.sent).status>=200&&e.status<300)){t.next=13;break}return t.next=9,e.json();case 9:return n=t.sent,t.abrupt("return",n);case 13:localStorage.removeItem("token"),window.location.href="index.html";case 15:case"end":return t.stop()}}),t)}))),function(){return a.apply(this,arguments)}),put:(o=m(regeneratorRuntime.mark((function t(e,n,r,o,a){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:return i=t.sent,t.next=5,fetch("".concat(c,"/profile"),{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(data)});case 5:((i=t.sent).status<200||i.status>=300)&&(localStorage.removeItem("token"),window.location.href="index.html");case 7:case"end":return t.stop()}}),t)}))),function(t,e,n,r,a){return o.apply(this,arguments)}),update:(r=m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})}});var v=Object.freeze({signUp:{fetch:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n,r,o,a,i,s,l,p,h,m,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,r=e.email,o=e.phone,a=e.password,f(i={name:n,email:r,phone:o,password:a})){t.next=8;break}throw s="Форма заполнена не верно. Проверьте правильность заполнения полей, а так же убедитесь что пароль не короче 8 символов",u().error(s,"Ошибка!"),console.error(f.errors),new Error(s);case 8:return t.next=10,fetch("".concat(c,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});case 10:if((l=t.sent).ok){t.next=18;break}return t.next=14,l.json();case 14:throw p=t.sent,h=p.message,u().error(h,"Ошибка!"),new Error(h);case 18:return t.next=20,l.json();case 20:m=t.sent,d=m.data,localStorage.setItem("token",d),localStorage.setItem("email",r),window.location.href="dashboard.html";case 25:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){d(a,r,o,i,u,"next",t)}function u(t){d(a,r,o,i,u,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}())}});function g(t,e,n,r,o,a,i){try{var u=t[a](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var w,b=document.querySelectorAll(".form form input"),x=document.querySelector(".form form"),j=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t))){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}(b);try{for(j.s();!(w=j.n()).done;){var k=w.value;"submit"!==k.type&&k.addEventListener("input",(function(t){t.target.value&&t.target.value.length?t.target.classList.add("filled"):t.target.classList.remove("filled")}))}}catch(t){j.e(t)}finally{j.f()}x.addEventListener("submit",function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n,r,o,a,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=new FormData(e.target),r=n.get("name"),o=n.get("email"),a=n.get("phone"),i=n.get("password"),t.next=8,v.signUp.fetch({name:r,phone:a,email:o,password:i});case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){g(a,r,o,i,u,"next",t)}function u(t){g(a,r,o,i,u,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}())},6677:function(t,e,n){var r=n(7293);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2423:function(t,e,n){var r=n(3501),o=n(111),a=n(6656),i=n(3070).f,u=n(9711),c=n(6677),s=u("meta"),f=0,l=Object.isExtensible||function(){return!0},p=function(t){i(t,s,{value:{objectID:"O"+ ++f,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,s)){if(!l(t))return"F";if(!e)return"E";p(t)}return t[s].objectID},getWeakData:function(t,e){if(!a(t,s)){if(!l(t))return!0;if(!e)return!1;p(t)}return t[s].weakData},onFreeze:function(t){return c&&h.REQUIRED&&l(t)&&!a(t,s)&&p(t),t}};r[s]=!0},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},8309:function(t,e,n){var r=n(9781),o=n(3070).f,a=Function.prototype,i=a.toString,u=/^\s*function ([^ (]*)/,c="name";r&&!(c in a)&&o(a,c,{configurable:!0,get:function(){try{return i.call(this).match(u)[1]}catch(t){return""}}})},3371:function(t,e,n){var r=n(2109),o=n(6677),a=n(7293),i=n(111),u=n(2423).onFreeze,c=Object.freeze;r({target:"Object",stat:!0,forced:a((function(){c(1)})),sham:!o},{freeze:function(t){return c&&i(t)?c(u(t)):t}})},9714:function(t,e,n){"use strict";var r=n(1320),o=n(9670),a=n(7293),i=n(7066),u="toString",c=RegExp.prototype,s=c.toString,f=a((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),l=s.name!=u;(f||l)&&r(RegExp.prototype,u,(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in c)?i.call(t):n)}),{unsafe:!0})}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.x=function(){},n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={150:0},e=[[1822,29,855,714]],r=function(){},o=function(o,a){for(var i,u,c=a[0],s=a[1],f=a[2],l=a[3],p=0,h=[];p<c.length;p++)u=c[p],n.o(t,u)&&t[u]&&h.push(t[u][0]),t[u]=0;for(i in s)n.o(s,i)&&(n.m[i]=s[i]);for(f&&f(n),o&&o(a);h.length;)h.shift()();return l&&e.push.apply(e,l),r()},a=self.webpackChunkjs_personal_projects=self.webpackChunkjs_personal_projects||[];function i(){for(var r,o=0;o<e.length;o++){for(var a=e[o],i=!0,u=1;u<a.length;u++){var c=a[u];0!==t[c]&&(i=!1)}i&&(e.splice(o--,1),r=n(n.s=a[0]))}return 0===e.length&&(n.x(),n.x=function(){}),r}a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a));var u=n.x;n.x=function(){return n.x=u||function(){},(r=i)()}}(),n.x()}();